(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7a04"],{YEIV:function(e,t,a){"use strict";t.__esModule=!0;var l=function(e){return e&&e.__esModule?e:{default:e}}(a("SEkw"));t.default=function(e,t,a){return t in e?(0,l.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},Zr7u:function(e,t,a){"use strict";var l=a("sbb8");a.n(l).a},rGyC:function(e,t,a){"use strict";a.r(t);var l=a("14Xm"),s=a.n(l),r=a("D3Ub"),i=a.n(r),n=a("YEIV"),o=a.n(n),c=a("7Qib"),u={data:function(){var e;return e={q:{level:"",username:"",status:""},tableData:[],multipleSelection:[],page:{pageSize:10,total:1,currentPage:1},switchForm:!1,subTip:!1,s:{},panelTitle:"",applyData:{},dialogFormVisible:!1,formLabelWidth:"80px",levelList:[],statusList:[{statusName:"申请中",statusId:"APPLY_CREATED"},{statusName:"审核通过",statusId:"APPLY_PASS"},{statusName:"审核不通过",statusId:"APPLY_FAIL"}],rowData:{}},o()(e,"multipleSelection",[]),o()(e,"level",{}),o()(e,"showDetails",!0),o()(e,"edit",!1),e},filters:{statusFilter:function(e){switch(e){case"APPLY_PASS":return"success";case"APPLY_FAIL":return"danger";case"APPLY_CREATED":return"warning";default:return""}},formatStatus:function(e){switch(e){case"APPLY_CREATED":return"申请中";case"APPLY_PASS":return"审核通过";case"APPLY_FAIL":return"审核不通过";default:return"-"}}},created:function(){this.getLevelList()},methods:{hasPermission:function(e){return Object(c.f)(e)},query:function(){var e=this;return i()(s.a.mark(function t(){var a,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="&level="+e.q.level+"&username="+e.q.username+"&status="+e.q.status,t.next=3,e._fetch("/syslevelapply/list?type=0&limit=50&page=1"+a,{method:"GET"});case 3:0===(l=t.sent).code?(e.tableData=l.page.list,e.page.total=l.page.totalCount,e.page.pageSize=l.page.pageSize):e.$message(l.msg);case 5:case"end":return t.stop()}},t,e)}))()},reset:function(){this.q={level:"",username:"",status:""}},getLevelList:function(){var e=this;return i()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/syslevelinfo/getLevels/?_=123",{method:"GET"});case 2:a=t.sent,e.levelList=a.list;case 4:case"end":return t.stop()}},t,e)}))()},auditHandle:function(e,t){"APPLY_CREATED"==t.status?(this.s=t,this.s.id=t.id,this.edit=!0,this.switchForm=!0,this.panelTitle="等级信息更改"):this.$message("该记录已经审核！")},onSubmit:function(){var e=null==this.s.id?"/syslevelapply/save":"/syslevelapply/update";this.addUser(e)},addUser:function(e){var t=this;return i()(s.a.mark(function a(){var l;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._fetch(e,{method:"POST",body:t.s});case 2:0===(l=a.sent).code?(t.$message("操作成功"),t.query(),t.switchForm=!1):t.$message(l.msg);case 4:case"end":return a.stop()}},a,t)}))()},reback:function(){this.switchForm=!1},getRowData:function(e){this.$refs.dataTable.toggleRowSelection(e),this.rowData=e,this.level.id=this.rowData.id},handleSelectionChange:function(e){var t=this;this.multipleSelection=e,this.level.Ids=[],this.multipleSelection.forEach(function(e){t.level.Ids.push(e.id)}),this.rowData=this.multipleSelection[0],this.rowData&&(this.level.id=this.rowData.id)},subConfirm:function(){var e=this;return i()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(123),t.next=3,e._fetch("//corporate/withdrawal/preapplication",{method:"POST",body:e.applyData});case 3:0===(a=t.sent).code?(e.$message("操作成功"),e.getAdminList(),e.subTip=!1):e.$message(a.msg);case 5:case"end":return t.stop()}},t,e)}))()},rowClass:function(){return"text-align:center"}}},d=(a("Zr7u"),a("KHd+")),p=Object(d.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.switchForm,expression:"!switchForm"}],staticClass:"show-box"},[a("div",{staticClass:"query-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.q}},[a("el-form-item",{staticClass:"form-item",attrs:{label:"用户标识"}},[a("el-input",{attrs:{placeholder:"请输入用户标识"},model:{value:e.q.username,callback:function(t){e.$set(e.q,"username",t)},expression:"q.username"}})],1),e._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"用户等级"}},[a("el-select",{attrs:{placeholder:"请选择等级"},model:{value:e.q.level,callback:function(t){e.$set(e.q,"level",t)},expression:"q.level"}},e._l(e.levelList,function(e){return a("el-option",{key:e.levelcode,attrs:{label:e.levelname,value:e.levelcode}})}))],1),e._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"审核状态"}},[a("el-select",{attrs:{placeholder:"请选择审核状态"},model:{value:e.q.status,callback:function(t){e.$set(e.q,"status",t)},expression:"q.status"}},e._l(e.statusList,function(e){return a("el-option",{key:e.statusId,attrs:{label:e.statusName,value:e.statusId}})}))],1),e._v(" "),a("el-form-item",{staticClass:"form-item"},[a("el-button",{attrs:{type:"info"},on:{click:e.query}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.subTip,width:"20%",top:"30vh"},on:{"update:visible":function(t){e.subTip=t}}},[a("span",[e._v("确定提交？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.subConfirm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.subTip=!1}}},[e._v("取 消")])],1)]),e._v(" "),a("div",{staticClass:"tb-box"},[a("el-table",{ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.rowClass,border:"","max-height":"700"},on:{"row-click":e.getRowData,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"logincode",label:"用户唯一标识",align:"left",width:"200","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"prelevelcode",label:"申请前等级编号",align:"left",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"targetlevelcode",label:"申请等级编号",align:"left",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"审核状态",align:"left",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e._f("statusFilter")(t.row.status)}},[e._v(e._s(e._f("formatStatus")(t.row.status)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createtime",label:"申请时间",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"verifytime",label:"审核时间",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updatetime",label:"修改时间",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operator",label:"新建用户（操作者）",align:"left",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"审核备注",align:"left",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("syslevelapply:update")?a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.auditHandle(t.$index,t.row)}}},[e._v("审核")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,30,50],"page-size":e.page.pageSize,total:e.page.total,layout:"total, sizes, prev, pager, next, jumper",background:""}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.switchForm,expression:"switchForm"}],staticClass:"form-section"},[a("div",{staticClass:"panel",domProps:{innerHTML:e._s(e.panelTitle)}}),e._v(" "),a("div",{staticClass:"form-container"},[a("el-form",{ref:"config",attrs:{model:e.s,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"用户唯一标识"}},[a("el-input",{attrs:{placeholder:"用户唯一标识",disabled:e.edit},model:{value:e.s.logincode,callback:function(t){e.$set(e.s,"logincode",t)},expression:"s.logincode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"申请前等级编号"}},[a("el-select",{attrs:{disabled:e.edit},model:{value:e.s.prelevelcode,callback:function(t){e.$set(e.s,"prelevelcode",t)},expression:"s.prelevelcode"}},e._l(e.levelList,function(e){return a("el-option",{key:e.levelcode,attrs:{label:e.levelname,value:e.levelcode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"申请等级编号"}},[a("el-select",{attrs:{disabled:e.edit},model:{value:e.s.targetlevelcode,callback:function(t){e.$set(e.s,"targetlevelcode",t)},expression:"s.targetlevelcode"}},e._l(e.levelList,function(e){return a("el-option",{key:e.levelcode,attrs:{label:e.levelname,value:e.levelcode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审核状态"}},[a("el-radio-group",{attrs:{disabled:e.edit},model:{value:e.s.status,callback:function(t){e.$set(e.s,"status",t)},expression:"s.status"}},[a("el-radio",{attrs:{label:"APPLY_CREATED"}},[e._v("申请中")]),e._v(" "),a("el-radio",{attrs:{label:"APPLY_PASS"}},[e._v("审核通过")]),e._v(" "),a("el-radio",{attrs:{label:"APPLY_FAIL"}},[e._v("审核不通过")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"备注"},model:{value:e.s.remarks,callback:function(t){e.$set(e.s,"remarks",t)},expression:"s.remarks"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.reback}},[e._v("返回")])],1)],1)],1)])])},[],!1,null,"c5485154",null);p.options.__file="gradeapplication.vue";t.default=p.exports},sbb8:function(e,t,a){}}]);