(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2a0d"],{"54IR":function(e,t,a){},"73jz":function(e,t,a){"use strict";var n=a("54IR");a.n(n).a},w0ch:function(e,t,a){"use strict";a.r(t);var n=a("14Xm"),l=a.n(n),i=a("D3Ub"),o=a.n(i),r=a("7Qib"),s={data:function(){return{q:{phone:"",userName:"",loginCode:""},phone:"",userName:"",loginCode:"",newPhone:"",tableData:[],multipleSelection:{},page:{pageSize:50,total:0,currentPage:1},dialogFormVisible:!1}},created:function(){this.getDataList()},methods:{hasPermission:function(e){return Object(r.f)(e)},query:function(){var e=this;return o()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/modificationPhoneNum/list?limit=50&page=1&phone="+e.q.phone+"&userName="+e.q.userName+"&loginCode="+e.q.loginCode,{method:"GET"});case 2:0===(a=t.sent).code?e.tableData=a.page.list:e.$message(a.msg);case 4:case"end":return t.stop()}},t,e)}))()},reset:function(){this.q={phone:"",userName:"",loginCode:""}},update:function(){this.multipleSelection.phone?(this.newPhone="",this.dialogFormVisible=!0,this.phone=this.multipleSelection.phone,this.loginCode=this.multipleSelection.loginCode,this.userName=this.multipleSelection.userName):this.$message("请选择一条记录")},getDataList:function(){var e=this;return o()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/modificationPhoneNum/list?limit=50&page=1",{method:"GET"});case 2:a=t.sent,e.tableData=a.page.list,e.page.total=a.page.totalCount,e.page.pageSize=a.page.pageSize;case 6:case"end":return t.stop()}},t,e)}))()},saveOrUpdate:function(){var e=this;return o()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a={phone:e.phone,loginCode:e.loginCode,newPhone:e.newPhone,userName:e.userName},200==e._fetch("/modificationPhoneNum/update",{method:"POST",body:a}).status?(e.$message("操作成功,修改号码五分钟内刷新"),e.query()):e.$message("手机号已存在，请重新输入");case 3:case"end":return t.stop()}},t,e)}))()},select:function(e,t){e.length>1&&e.shift(),this.multipleSelection=t},handleSelectionChange:function(e){e.length>2&&(this.$message("请选择一条记录"),this.$refs.dataTable.clearSelection())},getRowData:function(e){this.$refs.dataTable.toggleRowSelection(e),this.multipleSelection=e},handleSizeChange:function(e){var t=this;return o()(l.a.mark(function a(){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._fetch("/modificationPhoneNum/list?limit="+e+"&page="+t.page.currentPage,{method:"GET"});case 2:n=a.sent,t.tableData=n.page.list,t.page.pageSize=e;case 5:case"end":return a.stop()}},a,t)}))()},handleCurrentChange:function(e){var t=this;return o()(l.a.mark(function a(){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._fetch("/modificationPhoneNum/list?limit="+t.page.pageSize+"&page="+e,{method:"GET"});case 2:n=a.sent,t.tableData=n.page.list,t.page.currentPage=e;case 5:case"end":return a.stop()}},a,t)}))()},rowClass:function(){return"text-align:center"}}},c=(a("73jz"),a("KHd+")),u=Object(c.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"show-box"},[a("div",{staticClass:"query-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.q}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.q.userName,callback:function(t){e.$set(e.q,"userName",t)},expression:"q.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录账号"}},[a("el-input",{attrs:{placeholder:"登录账号"},model:{value:e.q.loginCode,callback:function(t){e.$set(e.q,"loginCode",t)},expression:"q.loginCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{placeholder:"请输入用户手机号"},model:{value:e.q.phone,callback:function(t){e.$set(e.q,"phone",t)},expression:"q.phone"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),e.hasPermission("sys:user:update")?a("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline"},on:{click:e.update}},[e._v("修改")]):e._e()],1),e._v(" "),a("div",{staticClass:"tb-box"},[a("el-table",{ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.rowClass,border:"","max-height":"700"},on:{select:e.select,"row-click":e.getRowData,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"loginCode",label:"登录账号",align:"left",width:"350"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"客户姓名",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系电话",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"levelName",label:"用户等级",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"serviceNum",label:"所属服务商",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bmOrgNum",label:"所属机构",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amMarginRemain",label:"账户余额",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{prop:"intoTime",label:"注册时间",align:"center",width:"280"}})],1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,30,50],"page-size":e.page.pageSize,total:e.page.total,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"密码设置",visible:e.dialogFormVisible,width:"20%",top:"35vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"alertbox",attrs:{model:e.q}},[a("el-form-item",{attrs:{label:"原手机号","label-width":"80px"}},[a("el-input",{attrs:{disabled:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新手机号","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入新手机号"},model:{value:e.newPhone,callback:function(t){e.newPhone=t},expression:"newPhone"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveOrUpdate}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1)],1)])},[],!1,null,"32f05254",null);u.options.__file="modifyphone.vue";t.default=u.exports}}]);