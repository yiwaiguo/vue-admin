(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6bdd"],{"2pVb":function(e,t,a){},bg9F:function(e,t,a){"use strict";var r=a("2pVb");a.n(r).a},lPmR:function(e,t,a){"use strict";a.r(t);var r=a("14Xm"),s=a.n(r),l=a("D3Ub"),i=a.n(l),n=a("7Qib"),o={data:function(){return{labelPosition:"right",q:{username:"",region:"",type:""},activeNames:[],tableData:[],page:{pageSize:50,total:0,currentPage:1},dealerList:[],queryParams:"",switchForm:!1,panelTitle:"",user:{},levels:[],edit:!1,multipleSelection:[],delTip:!1}},filters:{codeFilter:function(e){return 1==e?"success":"danger"},formatCode:function(e){return 1==e?"是":"否"}},created:function(){this.getDealerList(),this.getLevels()},methods:{hasPermission:function(e){return Object(n.f)(e)},query:function(){var e=this;return i()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.queryParams="&username="+e.q.username,t.next=3,e._fetch("/dfmalluserinfo/list?limit=50&page=1"+e.queryParams,{method:"GET"});case 3:0===(a=t.sent).code?(e.tableData=a.page.list,e.page.total=a.page.totalCount,e.page.pageSize=a.page.pageSize):e.$message(a.msg);case 5:case"end":return t.stop()}},t,e)}))()},reset:function(){this.q.username=""},add:function(){this.switchForm=!0,this.panelTitle="新增用户",this.edit=!1},update:function(){1==this.multipleSelection.length?(this.switchForm=!0,this.panelTitle="用户信息更改",this.edit=!0,this.getInfo(this.user.id)):this.$message("请选择一条记录")},del:function(){this.multipleSelection.length<1?this.$message("请选择一条记录"):this.delTip=!0},delConfirm:function(){var e=this;return i()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/dfmalluserinfo/delete",{method:"POST",body:e.user.Ids});case 2:0===(a=t.sent).code?(e.$message("操作成功"),e.query(),e.delTip=!1):e.$message(a.msg);case 4:case"end":return t.stop()}},t,e)}))()},onSubmit:function(){var e=null==this.user.id?"/dfmalluserinfo/save":"/dfmalluserinfo/update";this.addUser(e)},addUser:function(e){var t=this;return i()(s.a.mark(function a(){var r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._fetch(e,{method:"POST",body:t.user});case 2:0===(r=a.sent).code?(t.$message("操作成功"),t.query(),t.switchForm=!1):t.$message(r.msg);case 4:case"end":return a.stop()}},a,t)}))()},reback:function(){this.switchForm=!1},getDealerList:function(){var e=this;return i()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/org/dealer/ids",{method:"POST"});case 2:if(0==(a=t.sent).code){t.next=6;break}return e.$message(a.msg),t.abrupt("return");case 6:e.dealerList=a.dealers;case 7:case"end":return t.stop()}},t,e)}))()},getLevels:function(){var e=this;return i()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/dfmalluserlevelinfo/getLevels/",{method:"GET"});case 2:a=t.sent,e.levels=a.list;case 4:case"end":return t.stop()}},t,e)}))()},getInfo:function(e){var t=this;return i()(s.a.mark(function a(){var r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._fetch("/dfmalluserinfo/info/"+e,{method:"GET"});case 2:(r=a.sent)?(t.user=r.dfMallUserInfo,t.user.uisSerialcode=r.dfMallUserInfo.uisSerialcode.toString(),t.user.uisRisk=r.dfMallUserInfo.uisRisk.toString(),t.user.uisAuth=r.dfMallUserInfo.uisAuth.toString()):t.$message(r.msg);case 4:case"end":return a.stop()}},a,t)}))()},getRowData:function(e){console.log(e),this.$refs.dataTable.toggleRowSelection(e),this.rowData=e,this.user.id=this.rowData.id},handleSelectionChange:function(e){var t=this;this.multipleSelection=e,this.user.Ids=[],this.multipleSelection.forEach(function(e){t.user.Ids.push(e.id)}),this.rowData=this.multipleSelection[0],this.rowData&&(this.user.id=this.rowData.id)},handleSizeChange:function(e){var t=this;return i()(s.a.mark(function a(){var r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._fetch("/dfmalluserinfo/list?limit="+e+"&page="+t.page.currentPage+t.queryParams,{method:"GET"});case 2:r=a.sent,t.tableData=r.page.list,t.page.pageSize=e;case 5:case"end":return a.stop()}},a,t)}))()},handleCurrentChange:function(e){var t=this;return i()(s.a.mark(function a(){var r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._fetch("/dfmalluserinfo/list?limit="+t.page.pageSize+"&page="+e+t.queryParams,{method:"GET"});case 2:r=a.sent,t.tableData=r.page.list,t.page.currentPage=e;case 5:case"end":return a.stop()}},a,t)}))()},rowClass:function(){return"text-align:center"}}},u=(a("bg9F"),a("KHd+")),c=Object(u.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.switchForm,expression:"!switchForm"}],staticClass:"show-box"},[a("div",{staticClass:"query-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.q}},[a("el-form-item",{staticClass:"form-item",attrs:{label:"用户名"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.q.username,callback:function(t){e.$set(e.q,"username","string"==typeof t?t.trim():t)},expression:"q.username"}})],1),e._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"商家"}},[a("el-select",{attrs:{placeholder:"选择商家"},model:{value:e.q.region,callback:function(t){e.$set(e.q,"region",t)},expression:"q.region"}},e._l(e.dealerList,function(e){return a("el-option",{key:e.dealerId,attrs:{label:e.dealerName,value:e.dealerId}})}))],1),e._v(" "),a("el-form-item",{staticClass:"form-item"},[a("el-button",{attrs:{type:"info"},on:{click:e.query}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1),e._v(" "),a("div",{staticClass:"btn-box"},[e.hasPermission("dfmalluserlevelinfo:save")?a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.add}},[e._v("新增")]):e._e(),e._v(" "),e.hasPermission("dfmalluserlevelinfo:update")?a("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline"},on:{click:e.update}},[e._v("修改")]):e._e(),e._v(" "),e.hasPermission("dfmalluserlevelinfo:delete")?a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.del}},[e._v("删除")]):e._e()],1),e._v(" "),a("div",{staticClass:"tb-box"},[a("el-table",{ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.rowClass,border:"","max-height":"700"},on:{"row-click":e.getRowData,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"u_user_logincode",label:"登录账号",align:"left",width:"350"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"用户名",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"levelName",label:"用户等级",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"u_is_serialcode",label:"是否有推荐码",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e._f("codeFilter")(t.row.u_is_serialcode)}},[e._v(e._s(e._f("formatCode")(t.row.u_is_serialcode)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"u_is_risk",label:"是否同意签订风险揭示书",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e._f("codeFilter")(t.row.u_is_risk)}},[e._v(e._s(e._f("formatCode")(t.row.u_is_risk)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"u_is_auth",label:"是否实名认证",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e._f("codeFilter")(t.row.u_is_auth)}},[e._v(e._s(e._f("formatCode")(t.row.u_is_auth)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"gmt_create",label:"数据插入时间",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gmtModified",label:"数据修改时间",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注",align:"left",width:"200"}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.delTip,width:"20%",top:"30vh"},on:{"update:visible":function(t){e.delTip=t}}},[a("span",[e._v("确定要删除选中的记录？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.delTip=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.delConfirm}},[e._v("确 定")])],1)]),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,30,50],"page-size":e.page.pageSize,total:e.page.total,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.switchForm,expression:"switchForm"}],staticClass:"form-section"},[a("div",{staticClass:"panel",domProps:{innerHTML:e._s(e.panelTitle)}}),e._v(" "),a("div",{staticClass:"form-container"},[a("el-form",{ref:"form",attrs:{model:e.user,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"登录账号"}},[a("el-input",{attrs:{placeholder:"登录账号",name:"username",disabled:e.edit},model:{value:e.user.uuserLogincode,callback:function(t){e.$set(e.user,"uuserLogincode",t)},expression:"user.uuserLogincode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户级别id"}},[a("el-select",{attrs:{disabled:e.edit},model:{value:e.user.ulevelId,callback:function(t){e.$set(e.user,"ulevelId",t)},expression:"user.ulevelId"}},e._l(e.levels,function(e){return a("el-option",{key:e.ulId,attrs:{label:e.ulLevelName,value:e.ulId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"是否有推荐码"}},[a("el-radio-group",{attrs:{disabled:e.edit},model:{value:e.user.uisSerialcode,callback:function(t){e.$set(e.user,"uisSerialcode",t)},expression:"user.uisSerialcode"}},[a("el-radio",{attrs:{label:"0"}},[e._v("否")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否同意签订风险揭示书"}},[a("el-radio-group",{attrs:{disabled:e.edit},model:{value:e.user.uisRisk,callback:function(t){e.$set(e.user,"uisRisk",t)},expression:"user.uisRisk"}},[a("el-radio",{attrs:{label:"0"}},[e._v("否")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否实名认证"}},[a("el-radio-group",{attrs:{disabled:e.edit},model:{value:e.user.uisAuth,callback:function(t){e.$set(e.user,"uisAuth",t)},expression:"user.uisAuth"}},[a("el-radio",{attrs:{label:"0"}},[e._v("否")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("是")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"备注",name:"remark"},model:{value:e.user.remarks,callback:function(t){e.$set(e.user,"remarks",t)},expression:"user.remarks"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.reback}},[e._v("返回")])],1)],1)],1)])])},[],!1,null,"19e74e12",null);c.options.__file="userinfo.vue";t.default=c.exports}}]);