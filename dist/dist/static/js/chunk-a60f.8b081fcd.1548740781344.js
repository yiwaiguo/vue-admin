(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a60f"],{"2k5H":function(e,t,a){"use strict";var i=a("ZNYu");a.n(i).a},ZNYu:function(e,t,a){},oUfT:function(e,t,a){"use strict";a.r(t);var i=a("14Xm"),r=a.n(i),l=a("D3Ub"),o=a.n(l),n=a("7Qib"),s={data:function(){return{formInline:{key:""},tableData:[],multipleSelection:[],page:{pageSize:10,total:0,currentPage:1},switchForm:!1,subTip:!1,panelTitle:"",checkConfig:{approvalStatus:""},dialogFormVisible:!1,formLabelWidth:"120px",auditorName:"",delTip:!1}},filters:{rounding:function(e){return(e/100).toFixed(2)}},created:function(){this.getDataList(),this.getAuditUser()},methods:{hasPermission:function(e){return Object(n.f)(e)},approval:function(e,t){this.switchForm=!0,this.panelTitle="审批",this.checkConfig=t,this.checkConfig.userName=this.auditorName},del:function(){this.multipleSelection.length<1?this.$message("请选择一条记录"):this.delTip=!0},delConfirm:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/sys/config/delete",{method:"POST",body:e.config.ids});case 2:0===(a=t.sent).code?(e.$message("操作成功"),e.getConfigList(),e.delTip=!1):e.$message(a.msg);case 4:case"end":return t.stop()}},t,e)}))()},onSubmit:function(){console.log(this.checkConfig.staus),this.checkConfig.approvalStatus?Object(n.g)(this.checkConfig.result)?this.$message("备注信息不能为空"):(this.checkConfig.traPwd="",this.dialogFormVisible=!0):this.$message("请选择审核意见")},approvalConfirm:function(){this.subTip=!0},subConfirm:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/corporate/withdrawal/approve",{method:"POST",body:e.checkConfig});case 2:0===(a=t.sent).code?(e.$message("操作成功"),e.getDataList()):e.$message(a.msg),e.switchForm=!1,e.subTip=!1,e.dialogFormVisible=!1;case 7:case"end":return t.stop()}},t,e)}))()},reback:function(){this.switchForm=!1},getDataList:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/corporate/withdrawal/queryauditlist?limit=10&page=1",{method:"GET"});case 2:0===(a=t.sent).code?(e.tableData=a.page.list,e.page.total=a.page.totalCount,e.page.pageSize=a.page.pageSize):console.log(a.msg);case 4:case"end":return t.stop()}},t,e)}))()},getAuditUser:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/auditOrder/sysUser",{method:"GET"});case 2:a=t.sent,e.auditorName=a.sysUserAudit.auditorName;case 4:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){var t=this;return o()(r.a.mark(function a(){var i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._fetch("/corporate/withdrawal/queryauditlist?limit="+e+"&page="+t.page.currentPage,{method:"GET"});case 2:i=a.sent,t.tableData=i.page.list,t.page.pageSize=e;case 5:case"end":return a.stop()}},a,t)}))()},handleCurrentChange:function(e){var t=this;return o()(r.a.mark(function a(){var i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._fetch("/corporate/withdrawal/queryauditlist?limit="+t.page.pageSize+"&page="+e,{method:"GET"});case 2:i=a.sent,t.tableData=i.page.list,t.page.currentPage=e;case 5:case"end":return a.stop()}},a,t)}))()},rowClass:function(){return"text-align:center"}}},c=(a("2k5H"),a("KHd+")),u=Object(c.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.switchForm,expression:"!switchForm"}],staticClass:"show-box"},[a("el-dialog",{attrs:{title:"提示",visible:e.delTip,width:"20%",top:"30vh"},on:{"update:visible":function(t){e.delTip=t}}},[a("span",[e._v("确定要删除选中的记录？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.delTip=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.delConfirm}},[e._v("确 定")])],1)]),e._v(" "),a("div",{staticClass:"tb-box"},[a("el-table",{ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.rowClass,border:"","max-height":"700"}},[a("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userUid",label:"用户标识",align:"left",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankCardSerialNo",label:"绑定标识",align:"left",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"审核订单ID",align:"left",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amt",label:"提现金额",align:"left",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("rounding")(t.row.amt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"申请人备注信息",align:"left",width:"200","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"withdrawSerialOrderNo",label:"提现业务流水号",align:"left",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"requestNo",label:"请求流水号",align:"left",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"withdrawOrderNo",label:"提现单号",align:"left",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"审核账号",align:"left",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"申请时间",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.approval(t.$index,t.row)}}},[e._v("审批")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,30,50],"page-size":e.page.pageSize,total:e.page.total,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.switchForm,expression:"switchForm"}],staticClass:"form-section"},[a("div",{staticClass:"panel",domProps:{innerHTML:e._s(e.panelTitle)}}),e._v(" "),a("div",{staticClass:"form-container"},[a("el-form",{ref:"config",attrs:{model:e.checkConfig,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"用户标识"}},[a("el-input",{attrs:{placeholder:"用户标识",disabled:""},model:{value:e.checkConfig.userUid,callback:function(t){e.$set(e.checkConfig,"userUid",t)},expression:"checkConfig.userUid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"提现业务流水号"}},[a("el-input",{attrs:{placeholder:"提现业务流水号",disabled:""},model:{value:e.checkConfig.withdrawSerialOrderNo,callback:function(t){e.$set(e.checkConfig,"withdrawSerialOrderNo",t)},expression:"checkConfig.withdrawSerialOrderNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"提现金额"}},[a("el-input",{attrs:{placeholder:"提现金额",disabled:""},model:{value:e.checkConfig.amt,callback:function(t){e.$set(e.checkConfig,"amt",t)},expression:"checkConfig.amt"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"申请人备注信息"}},[a("el-input",{attrs:{placeholder:"申请人备注信息",disabled:""},model:{value:e.checkConfig.remark,callback:function(t){e.$set(e.checkConfig,"remark",t)},expression:"checkConfig.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审核账号"}},[a("el-input",{attrs:{placeholder:"审核账号",disabled:""},model:{value:e.checkConfig.userName,callback:function(t){e.$set(e.checkConfig,"userName",t)},expression:"checkConfig.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审核订单id"}},[a("el-input",{attrs:{placeholder:"审核订单id",disabled:""},model:{value:e.checkConfig.id,callback:function(t){e.$set(e.checkConfig,"id",t)},expression:"checkConfig.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注信息"}},[a("el-input",{attrs:{type:"textarea",placeholder:"备注信息"},model:{value:e.checkConfig.result,callback:function(t){e.$set(e.checkConfig,"result",t)},expression:"checkConfig.result"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审核意见"}},[a("el-radio-group",{model:{value:e.checkConfig.approvalStatus,callback:function(t){e.$set(e.checkConfig,"approvalStatus",t)},expression:"checkConfig.approvalStatus"}},[a("el-radio",{attrs:{label:"true"}},[e._v("同意")]),e._v(" "),a("el-radio",{attrs:{label:"false"}},[e._v("驳回")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:e.reback}},[e._v("返回")])],1)],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"审核",visible:e.dialogFormVisible,width:"25%",top:"30vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{staticClass:"alertBox",attrs:{model:e.checkConfig}},[a("el-form-item",{attrs:{label:"提现业务流水号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"提现业务流水号",disabled:""},model:{value:e.checkConfig.withdrawSerialOrderNo,callback:function(t){e.$set(e.checkConfig,"withdrawSerialOrderNo",t)},expression:"checkConfig.withdrawSerialOrderNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审批密码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入6-20位交易密码",onkeyup:"value=value.replace(/[^\\w\\.\\/]/ig,'')"},model:{value:e.checkConfig.traPwd,callback:function(t){e.$set(e.checkConfig,"traPwd",t)},expression:"checkConfig.traPwd"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.hasPermission("corporate:audit:approve")?a("el-button",{attrs:{type:"primary"},on:{click:e.approvalConfirm}},[e._v("确 定")]):e._e(),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.subTip,width:"20%",top:"30vh"},on:{"update:visible":function(t){e.subTip=t}}},[a("span",[e._v("确定提交？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.subConfirm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.subTip=!1}}},[e._v("取 消")])],1)])],1)},[],!1,null,"b792253a",null);u.options.__file="withdrawalandapproval.vue";t.default=u.exports}}]);