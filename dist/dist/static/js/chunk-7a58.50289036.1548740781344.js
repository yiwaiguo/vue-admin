(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7a58"],{"9iTn":function(e,t,a){"use strict";var n=a("GAP4");a.n(n).a},GAP4:function(e,t,a){},qCdr:function(e,t,a){"use strict";a.r(t);var n=a("14Xm"),l=a.n(n),r=a("D3Ub"),i=a.n(r),s={data:function(){return{formInline:{key:""},tableData:[],page:{pageSize:50,total:0,currentPage:1}}},created:function(){this.getLogList()},methods:{query:function(){var e=this;return i()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/sys/log/list?limit=50&page=1&key="+e.formInline.key,{method:"GET"});case 2:a=t.sent,e.tableData=a.page.list;case 4:case"end":return t.stop()}},t,e)}))()},clearHandle:function(){this.formInline.key=""},getLogList:function(){var e=this;return i()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._fetch("/sys/log/list?limit=50&page=1",{method:"GET"});case 2:0===(a=t.sent).code?(e.tableData=a.page.list,e.page.total=a.page.totalCount,e.page.pageSize=a.page.pageSize):e.$message(a.msg);case 4:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){var t=this;return i()(l.a.mark(function a(){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._fetch("/sys/log/list?limit="+e+"&page="+t.page.currentPage,{method:"GET"});case 2:n=a.sent,t.tableData=n.page.list,t.page.pageSize=e;case 5:case"end":return a.stop()}},a,t)}))()},handleCurrentChange:function(e){var t=this;return i()(l.a.mark(function a(){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t._fetch("/sys/log/list?limit="+t.page.pageSize+"&page="+e,{method:"GET"});case 2:n=a.sent,t.tableData=n.page.list,t.page.currentPage=e;case 5:case"end":return a.stop()}},a,t)}))()},rowClass:function(){return"text-align:center"}}},o=(a("9iTn"),a("KHd+")),c=Object(o.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"show-box"},[a("div",{staticClass:"query-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"用户名、用户操作"},model:{value:e.formInline.key,callback:function(t){e.$set(e.formInline,"key",t)},expression:"formInline.key"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"info"},on:{click:e.query}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.clearHandle}},[e._v("清空")])],1)],1)],1),e._v(" "),a("div",{staticClass:"tb-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":e.rowClass,border:"","max-height":"750"}},[a("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",align:"left",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名",align:"left",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"用户操作",align:"left",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"method",label:"请求方法",align:"left","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"params",label:"请求参数",align:"left","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"执行时长(毫秒)",align:"left",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ip",label:"IP地址",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",align:"center"}})],1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,30,50],"page-size":e.page.pageSize,total:e.page.total,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},[],!1,null,"086d2f0c",null);c.options.__file="index.vue";t.default=c.exports}}]);